color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=states_all4, aes(xmin=21, xmax=25, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=21, xmax=25, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=22, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=22, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=22, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(9, 38.175))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Gaps between hourly wages and housing wages",
caption="Source: National Low Income Housing Coalition \nAndrew Ba Tran/TrendCT.org")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 24))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Gaps between hourly wages and housing wages",
caption="Source: National Low Income Housing Coalition \nAndrew Ba Tran/TrendCT.org")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="Percent uninsured 2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="Percent uninsured 2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Gaps between hourly wages and housing wages",
caption="Source: National Low Income Housing Coalition \nAndrew Ba Tran/TrendCT.org")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Gaps between hourly wages and housing wages",
caption="Source: National Low Income Housing Coalition \nAndrew Ba Tran/TrendCT.org")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Change in unisured rates by state",
caption="Source: U.S. Census \nAndrew Ba Tran/TrendCT.org")
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="2014"),
color="#476b6b", size=3, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Change in unisured rates by state",
caption="Source: U.S. Census \nAndrew Ba Tran/TrendCT.org")
gg <- gg + theme_bw(base_family="Helvetica")
gg <- gg + theme(panel.grid.major=element_blank())
gg <- gg + theme(panel.grid.minor=element_blank())
gg <- gg + theme(panel.border=element_blank())
gg <- gg + theme(axis.ticks=element_blank())
gg <- gg + theme(axis.text.x=element_blank())
gg <- gg + theme(plot.title=element_text(face="bold", family="Lato Black", size=22))
gg <- gg + theme(plot.subtitle=element_text(face="italic", size=9, margin=margin(b=12)))
gg <- gg + theme(plot.caption=element_text(size=7, margin=margin(t=12), color="#7a7d7e"))
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2014, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2014, y=State, label="2014"),
color="#476b6b", size=3, vjust=-2, hjust =1, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2014, y=State, label=percent2014),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="South Dakota"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Change in unisured rates by state",
caption="Source: U.S. Census \nAndrew Ba Tran/TrendCT.org")
gg <- gg + theme_bw(base_family="Helvetica")
gg <- gg + theme(panel.grid.major=element_blank())
gg <- gg + theme(panel.grid.minor=element_blank())
gg <- gg + theme(panel.border=element_blank())
gg <- gg + theme(axis.ticks=element_blank())
gg <- gg + theme(axis.text.x=element_blank())
gg <- gg + theme(plot.title=element_text(face="bold", family="Lato Black", size=22))
gg <- gg + theme(plot.subtitle=element_text(face="italic", size=9, margin=margin(b=12)))
gg <- gg + theme(plot.caption=element_text(size=7, margin=margin(t=12), color="#7a7d7e"))
gg
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2013, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
gg
unin <- arrange(unin, diff1513)
unin$State <- factor(unin$State, levels=unique(unin$State))
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2013, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg
unin <- arrange(unin, diff1513)
unin$State <- factor(unin$State, levels=unique(unin$State))
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=20), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2013, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"),
aes(x=percent2013, y=State, label="2013"),
color="#476b6b", size=3, vjust=-2, hjust =1, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, hjust=-.1, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2013, y=State, label=percent2013),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=20, xmax=21, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=20.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"), aes(x=20.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 21))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Change in unisured rates by state",
caption="Source: U.S. Census \nAndrew Ba Tran/TrendCT.org")
gg <- gg + theme_bw(base_family="Helvetica")
gg <- gg + theme(panel.grid.major=element_blank())
gg <- gg + theme(panel.grid.minor=element_blank())
gg <- gg + theme(panel.border=element_blank())
gg <- gg + theme(axis.ticks=element_blank())
gg <- gg + theme(axis.text.x=element_blank())
gg <- gg + theme(plot.title=element_text(face="bold", family="Lato Black", size=22))
gg <- gg + theme(plot.subtitle=element_text(face="italic", size=9, margin=margin(b=12)))
gg <- gg + theme(plot.caption=element_text(size=7, margin=margin(t=12), color="#7a7d7e"))
gg
unin <- arrange(unin, diff1513)
unin$State <- factor(unin$State, levels=unique(unin$State))
gg <- ggplot()
gg <- gg + geom_segment(data=unin, aes(y=State, yend=State, x=0, xend=23), color="#b2b2b2", size=0.15)
gg <- gg + geom_dumbbell(data=unin, aes(y=State, x=percent2013, xend=percent2015),
size=1.5, color="#b2b2b2", point.size.l=3, point.size.r=3,
point.colour.l="#476b6b", point.colour.r="#cc0052")
# text below points
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"),
aes(x=percent2013, y=State, label="2013"),
color="#476b6b", size=3, vjust=-2, hjust =1, fontface="bold", family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"),
aes(x=percent2015, y=State, label="2015"),
color="#cc0052", size=3, vjust=-2, hjust=-.1, fontface="bold", family="Helvetica")
# text above points
gg <- gg + geom_text(data=unin, aes(x=percent2013, y=State, label=percent2013),
color="#476b6b", size=2.75, vjust=2.5, family="Helvetica")
gg <- gg + geom_text(data=unin, color="#cc0052", size=2.75, vjust=2.5, family="Helvetica",
aes(x=percent2015, y=State, label=percent2015))
# difference column
gg <- gg + geom_rect(data=unin, aes(xmin=23, xmax=24, ymin=-Inf, ymax=Inf), fill="#efefe3")
gg <- gg + geom_text(data=unin, aes(label=round(diff1514,2), y=State, x=23.5), fontface="bold", size=3, family="Helvetica")
gg <- gg + geom_text(data=filter(unin, State=="Massachusetts"), aes(x=23.5, y=State, label="Diff"),
color="#7a7d7e", size=3.1, vjust=-2, fontface="bold", family="Helvetica")
gg <- gg + scale_x_continuous(expand=c(0,0), limits=c(0, 24))
gg <- gg + scale_y_discrete(expand=c(0.075,0))
gg <- gg + labs(x=NULL, y=NULL, title="Change in unisured rates by state",
caption="Source: U.S. Census \nAndrew Ba Tran/TrendCT.org")
gg <- gg + theme_bw(base_family="Helvetica")
gg <- gg + theme(panel.grid.major=element_blank())
gg <- gg + theme(panel.grid.minor=element_blank())
gg <- gg + theme(panel.border=element_blank())
gg <- gg + theme(axis.ticks=element_blank())
gg <- gg + theme(axis.text.x=element_blank())
gg <- gg + theme(plot.title=element_text(face="bold", family="Lato Black", size=22))
gg <- gg + theme(plot.subtitle=element_text(face="italic", size=9, margin=margin(b=12)))
gg <- gg + theme(plot.caption=element_text(size=7, margin=margin(t=12), color="#7a7d7e"))
gg
pov <- read.csv("poverty.csv")
pov <- read.csv("data/poverty.csv")
View(pov)
install.packages("choroplethr")
library(choroplethr)
?state_choropleth
head(unin)
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
install.packages("choroplethMaps")
install.packages("choroplethrMaps")
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
View(unin_map1)
state.abb[grep(unin_map1$State, state.name)]
unin_map1$State
state.abb[grep(unin_map1$region, state.name)]
unin_map1$region
state.abb[grep(unin_map1$region, state.name)]
unin_map1$region <- state.abb[grep(unin_map1$region, state.name)]
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
unin_map1$region <- state.abb[grep(unin_map1$region, state.name)]
unin_map1$region <- state.abb[match(unin_map1$region,state.name)]
View(unin_map1)
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
state.abb[match(unin_map1$region,state.name)]
unin_map1$region <- state.abb[match(unin_map1$region,state.name)]
View(unin_map1)
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
View(unin_map1)
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
unin_map1$region <- state.abb[match(unin_map1$region,state.name)]
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
unin_map1 <- subset(unin_map1, !is.na(region))
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
View(unin_map1)
unin_map1 <- subset(unin_map1, region!="District of Columbia")
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
View(unin_map1)
data(df_pop_state)
state_choropleth(df_pop_state,
title  = "US 2012 State Population Estimates",
legend = "Population")
head(df_pop_state)
unin_map1$region <- str_to_lower(unin_map1$region)
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
unin_map1 <- unin[c("State", "percent2015")]
colnames(unin_map1) <- c("region", "value")
#unin_map1$region <- state.abb[match(unin_map1$region,state.name)]
#unin_map1 <- subset(unin_map1, !is.na(region))
#unin_map1 <- subset(unin_map1, region!="District of Columbia")
unin_map1$region <- str_to_lower(unin_map1$region)
state_choropleth(unin_map1, title = "Uninsured rate in 2015")
View(unin)
unin_map1 <- unin[c("State", "diff1514")]
colnames(unin_map1) <- c("region", "value")
unin_map1$region <- str_to_lower(unin_map1$region)
state_choropleth(unin_map1, title = "Uninsured rate change between 2014 and 2015")
View(pov)
pov <- read.csv("data/poverty.csv")
pov_map1 <- pov[c("State", "Percent")]
colnames(pov_map1) <- c("region", "value")
pov_map1$region <- str_to_lower(pov_map1$region)
state_choropleth(pov_map1, title = "Poverty rate by state in 2015")
pov_map1 <- pov[c("State", "Diff.Percent")]
colnames(pov_map1) <- c("region", "value")
pov_map1$region <- str_to_lower(pov_map1$region)
state_choropleth(pov_map1, title = "Poverty rate change between 2014 and 2015")
str(pov_map1)
str(pov)
pov_map1$Diff.Percent <- as.numeric(pov_map1$Diff.Percent)
pov_map1 <- pov[c("State", "Diff.Percent")]
pov_map1$Diff.Percent <- as.numeric(pov_map1$Diff.Percent)
colnames(pov_map1) <- c("region", "value")
pov_map1$region <- str_to_lower(pov_map1$region)
state_choropleth(pov_map1, title = "Poverty rate change between 2014 and 2015")
